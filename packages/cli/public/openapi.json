{"openapi":"3.0.0","components":{"schemas":{"container-drift-service.api.v1.auditapi.ListAuditLogReq":{"properties":{"user_name":{"format":"string","properties":{},"type":"string"},"remote_ip":{"format":"string","properties":{},"type":"string"},"module":{"format":"string","properties":{},"type":"string"},"operation":{"format":"string","properties":{},"type":"string"},"status":{"format":"string","properties":{},"type":"string"},"start_time":{"format":"string","properties":{},"type":"string"},"end_time":{"format":"string","properties":{},"type":"string"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"},"container-drift-service.utils.pagi.Pagination":{"properties":{"page_rows":{"format":"int","properties":{},"type":"integer"},"page_no":{"format":"int","properties":{},"type":"integer"},"total":{"format":"int","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.auditapi.ListAuditLogRes":{"description":"Result data for certain request according API definition","properties":{"rows":{"format":"[]entity.SysAuditLog","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.SysAuditLog"},"properties":{},"type":"array"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"},"container-drift-service.internal.model.entity.SysAuditLog":{"properties":{"id":{"format":"int64","properties":{},"type":"integer"},"user_id":{"format":"int64","properties":{},"type":"integer"},"user_name":{"format":"string","properties":{},"type":"string"},"remote_ip":{"format":"string","properties":{},"type":"string"},"created_at":{"format":"*gtime.Time","properties":{},"type":"string"},"updated_at":{"format":"*gtime.Time","properties":{},"type":"string"},"module":{"description":"login 登录模块\r cluster cluster \r pod  pod \r node node","format":"string","properties":{},"type":"string"},"operation":{"description":"login logout ...","format":"string","properties":{},"type":"string"},"status":{"description":"success fail","format":"string","properties":{},"type":"string"},"detail":{"format":"string","properties":{},"type":"string"}},"type":"object"},"interface":{"properties":{},"type":"object"},"container-drift-service.api.v1.HelloReq":{"properties":{},"type":"object"},"container-drift-service.api.v1.HelloRes":{"example":"string","properties":{},"type":"object"},"container-drift-service.api.v1.kubeapi.KillPodReq":{"properties":{"pod_name":{"format":"string","properties":{},"type":"string"},"namespace":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.KillPodRes":{"description":"Result data for certain request according API definition","properties":{},"type":"object"},"container-drift-service.api.v1.kubeapi.ListNamespaceReq":{"properties":{"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.ListNamespaceRes":{"description":"Result data for certain request according API definition","properties":{"namespaces":{"format":"[]string","items":{"format":"string","properties":{},"type":"string"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.api.v1.kubeapi.ListNodesReq":{"properties":{"node_name":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.ListNodesRes":{"description":"Result data for certain request according API definition","properties":{"nodes_info":{"format":"[]model.NodeInfluxInfo","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.NodeInfluxInfo"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.internal.model.NodeInfluxInfo":{"properties":{"Time":{"format":"string","properties":{},"type":"string"},"Name":{"format":"string","properties":{},"type":"string"},"PodCIDR":{"format":"string","properties":{},"type":"string"},"CreationTimestamp":{"format":"string","properties":{},"type":"string"},"KubeClusterName":{"format":"string","properties":{},"type":"string"},"KubeClusterID":{"format":"string","properties":{},"type":"string"},"UsageCpu":{"format":"float64","properties":{},"type":"number"},"UsageMemory":{"format":"float64","properties":{},"type":"number"},"AllocatableCpu":{"format":"float64","properties":{},"type":"number"},"AllocatableMemory":{"format":"float64","properties":{},"type":"number"},"CpuPercentage":{"format":"float64","properties":{},"type":"number"},"MemoryPercentage":{"format":"float64","properties":{},"type":"number"},"InternalIP":{"format":"string","properties":{},"type":"string"},"Hostname":{"format":"string","properties":{},"type":"string"},"Roles":{"format":"string","properties":{},"type":"string"},"MaxUsageMemory":{"format":"float64","properties":{},"type":"number"},"AvgUsageMemory":{"format":"float64","properties":{},"type":"number"},"EntropyUsageMemory":{"format":"float64","properties":{},"type":"number"}},"type":"object"},"container-drift-service.api.v1.kubeapi.ListPodsReq":{"properties":{"pod_name":{"format":"string","properties":{},"type":"string"},"node_name":{"format":"string","properties":{},"type":"string"},"namespace":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.ListPodsRes":{"description":"Result data for certain request according API definition","properties":{"pods_info":{"format":"[]model.PodInfluxInfo","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.PodInfluxInfo"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.internal.model.PodInfluxInfo":{"properties":{"Time":{"format":"string","properties":{},"type":"string"},"Name":{"format":"string","properties":{},"type":"string"},"Namespace":{"format":"string","properties":{},"type":"string"},"CreationTimestamp":{"format":"string","properties":{},"type":"string"},"Kind":{"format":"string","properties":{},"type":"string"},"Phase":{"format":"string","properties":{},"type":"string"},"HostIP":{"format":"string","properties":{},"type":"string"},"PodIP":{"format":"string","properties":{},"type":"string"},"QOSClass":{"format":"string","properties":{},"type":"string"},"DNSPolicy":{"format":"string","properties":{},"type":"string"},"NodeName":{"format":"string","properties":{},"type":"string"},"KubeClusterName":{"format":"string","properties":{},"type":"string"},"KubeClusterID":{"format":"string","properties":{},"type":"string"},"UsageCpu":{"format":"float64","properties":{},"type":"number"},"UsageMemory":{"format":"float64","properties":{},"type":"number"},"AllocatableCpu":{"format":"float64","properties":{},"type":"number"},"AllocatableMemory":{"format":"float64","properties":{},"type":"number"},"CpuPercentage":{"format":"float64","properties":{},"type":"number"},"MemoryPercentage":{"format":"float64","properties":{},"type":"number"},"MaxUsageMemory":{"format":"float64","properties":{},"type":"number"},"AvgUsageMemory":{"format":"float64","properties":{},"type":"number"},"EntropyUsageMemory":{"format":"float64","properties":{},"type":"number"},"AllowClose":{"format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.kubeapi.QueryNodeMetricsReq":{"properties":{"node_name":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.QueryNodeMetricsRes":{"description":"Result data for certain request according API definition","properties":{"metrics":{"format":"[]model.NodeMetricData","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.NodeMetricData"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.internal.model.NodeMetricData":{"properties":{"CreationTimestamp":{"format":"string","properties":{},"type":"string"},"KubeClusterID":{"format":"string","properties":{},"type":"string"},"KubeClusterName":{"format":"string","properties":{},"type":"string"},"Name":{"format":"string","properties":{},"type":"string"},"PodCIDR":{"format":"string","properties":{},"type":"string"},"InternalIP":{"format":"string","properties":{},"type":"string"},"Hostname":{"format":"string","properties":{},"type":"string"},"Roles":{"format":"string","properties":{},"type":"string"},"_field":{"format":"string","properties":{},"type":"string"},"_measurement":{"format":"string","properties":{},"type":"string"},"_start":{"format":"string","properties":{},"type":"string"},"_stop":{"format":"string","properties":{},"type":"string"},"_time":{"format":"string","properties":{},"type":"string"},"_value":{"$ref":"#/components/schemas/interface"},"result":{"format":"string","properties":{},"type":"string"},"table":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.QueryPodMetricsReq":{"properties":{"pod_name":{"format":"string","properties":{},"type":"string"},"namespace":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.QueryPodMetricsRes":{"description":"Result data for certain request according API definition","properties":{"metrics":{"format":"[]model.PodMetricData","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.PodMetricData"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.internal.model.PodMetricData":{"properties":{"CreationTimestamp":{"format":"string","properties":{},"type":"string"},"DNSPolicy":{"format":"string","properties":{},"type":"string"},"HostIP":{"format":"string","properties":{},"type":"string"},"KubeClusterID":{"format":"string","properties":{},"type":"string"},"KubeClusterName":{"format":"string","properties":{},"type":"string"},"Name":{"format":"string","properties":{},"type":"string"},"Namespace":{"format":"string","properties":{},"type":"string"},"NodeName":{"format":"string","properties":{},"type":"string"},"Phase":{"format":"string","properties":{},"type":"string"},"PodIP":{"format":"string","properties":{},"type":"string"},"QOSClass":{"format":"string","properties":{},"type":"string"},"_field":{"format":"string","properties":{},"type":"string"},"_measurement":{"format":"string","properties":{},"type":"string"},"_start":{"format":"string","properties":{},"type":"string"},"_stop":{"format":"string","properties":{},"type":"string"},"_time":{"format":"string","properties":{},"type":"string"},"_value":{"$ref":"#/components/schemas/interface"},"result":{"format":"string","properties":{},"type":"string"},"table":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.TransPodReq":{"properties":{"node_name":{"format":"string","properties":{},"type":"string"},"pod_name":{"format":"string","properties":{},"type":"string"},"namespace":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeapi.TransPodRes":{"description":"Result data for certain request according API definition","properties":{},"type":"object"},"container-drift-service.api.v2.kubeapi.ListAvailableNodesReq":{"properties":{"pod_name":{"format":"string","properties":{},"type":"string"},"namespace":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v2.kubeapi.ListAvailableNodesRes":{"description":"Result data for certain request according API definition","properties":{"nodes":{"format":"[]string","items":{"format":"string","properties":{},"type":"string"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.api.v2.kubeapi.ListNodesV2Req":{"properties":{"node_name":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v2.kubeapi.ListNodesV2Res":{"description":"Result data for certain request according API definition","properties":{"nodes":{"format":"[]model.NodeItem","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.NodeItem"},"properties":{},"type":"array"},"start_suggestion":{"format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.internal.model.NodeItem":{"properties":{"node_name":{"format":"string","properties":{},"type":"string"},"InternalIP":{"format":"string","properties":{},"type":"string"},"Hostname":{"format":"string","properties":{},"type":"string"},"Roles":{"format":"string","properties":{},"type":"string"},"KubeClusterName":{"format":"string","properties":{},"type":"string"},"KubeClusterID":{"format":"int64","properties":{},"type":"integer"},"UsageCpu":{"format":"float64","properties":{},"type":"number"},"UsageMemory":{"format":"float64","properties":{},"type":"number"},"total_cpu":{"format":"float64","properties":{},"type":"number"},"total_memory":{"format":"float64","properties":{},"type":"number"},"current_cpu_percentage":{"format":"float64","properties":{},"type":"number"},"current_memory_percentage":{"format":"float64","properties":{},"type":"number"},"cpu_percentage":{"format":"float64","properties":{},"type":"number"},"memory_percentage":{"format":"float64","properties":{},"type":"number"},"max_cpu_percentage":{"format":"float64","properties":{},"type":"number"},"max_memory_percentage":{"format":"float64","properties":{},"type":"number"},"status":{"format":"string","properties":{},"type":"string"},"score":{"format":"float64","properties":{},"type":"number"},"suggestion":{"format":"string","properties":{},"type":"string"},"cpu_rank":{"format":"int","properties":{},"type":"integer"},"mem_rank":{"format":"int","properties":{},"type":"integer"},"recent_trans_time":{"format":"int","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v2.kubeapi.ListPodsV2Req":{"properties":{"pod_name":{"format":"string","properties":{},"type":"string"},"namespace":{"format":"string","properties":{},"type":"string"},"node_name":{"format":"string","properties":{},"type":"string"},"kube_cluster_id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v2.kubeapi.ListPodsV2Res":{"description":"Result data for certain request according API definition","properties":{"pods":{"format":"[]model.PodItem","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.PodItem"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.internal.model.PodItem":{"properties":{"pod_name":{"format":"string","properties":{},"type":"string"},"namespace":{"format":"string","properties":{},"type":"string"},"KubeClusterName":{"format":"string","properties":{},"type":"string"},"KubeClusterID":{"format":"int64","properties":{},"type":"integer"},"node_name":{"format":"string","properties":{},"type":"string"},"ip":{"format":"string","properties":{},"type":"string"},"status":{"format":"string","properties":{},"type":"string"},"current_usage_cpu":{"format":"float64","properties":{},"type":"number"},"current_usage_memory":{"format":"float64","properties":{},"type":"number"},"node_total_cpu":{"format":"float64","properties":{},"type":"number"},"node_total_memory":{"format":"float64","properties":{},"type":"number"},"current_cpu_percentage":{"format":"float64","properties":{},"type":"number"},"current_memory_percentage":{"format":"float64","properties":{},"type":"number"},"EntropyUsageMemory":{"format":"float64","properties":{},"type":"number"},"EntropyUsageCPU":{"format":"float64","properties":{},"type":"number"},"cpu_percentage":{"format":"float64","properties":{},"type":"number"},"memory_percentage":{"format":"float64","properties":{},"type":"number"},"max_cpu_percentage":{"format":"float64","properties":{},"type":"number"},"max_memory_percentage":{"format":"float64","properties":{},"type":"number"},"suggestion":{"format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.kubeconfigapi.DeleteConfigReq":{"properties":{"id":{"format":"int64","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.kubeconfigapi.DeleteConfigRes":{"description":"Result data for certain request according API definition","properties":{},"type":"object"},"container-drift-service.api.v1.kubeconfigapi.ListConfigReq":{"properties":{"id":{"format":"int64","properties":{},"type":"integer"},"name":{"format":"string","properties":{},"type":"string"},"addr":{"format":"string","properties":{},"type":"string"},"version":{"format":"string","properties":{},"type":"string"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"},"container-drift-service.api.v1.kubeconfigapi.ListConfigRes":{"description":"Result data for certain request according API definition","properties":{"rows":{"format":"[]entity.BizKubeConfig","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.BizKubeConfig"},"properties":{},"type":"array"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"},"container-drift-service.internal.model.entity.BizKubeConfig":{"properties":{"id":{"format":"int64","properties":{},"type":"integer"},"name":{"format":"string","properties":{},"type":"string"},"version":{"format":"string","properties":{},"type":"string"},"auth_type":{"format":"string","properties":{},"type":"string"},"addr":{"format":"string","properties":{},"type":"string"},"user_name":{"format":"string","properties":{},"type":"string"},"passwd":{"format":"string","properties":{},"type":"string"},"config":{"format":"string","properties":{},"type":"string"},"deleted":{"format":"int","properties":{},"type":"integer"},"disabled":{"format":"int","properties":{},"type":"integer"},"create_at":{"description":"Created Time","format":"*gtime.Time","properties":{},"type":"string"},"update_at":{"description":"Updated Time","format":"*gtime.Time","properties":{},"type":"string"},"node_monitor_addr":{"format":"string","properties":{},"type":"string"},"pod_monitor_addr":{"format":"string","properties":{},"type":"string"},"node_monitor_config":{"description":"预留-节点监控配置json","format":"string","properties":{},"type":"string"},"pod_monitor_config":{"description":"预留-Pod监控配置json","format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.kubeconfigapi.SaveConfigReq":{"properties":{"id":{"format":"int64","properties":{},"type":"integer"},"name":{"format":"string","properties":{},"type":"string"},"version":{"format":"string","properties":{},"type":"string"},"auth_type":{"format":"string","properties":{},"type":"string"},"addr":{"format":"string","properties":{},"type":"string"},"user_name":{"format":"string","properties":{},"type":"string"},"passwd":{"format":"string","properties":{},"type":"string"},"config":{"format":"string","properties":{},"type":"string"},"deleted":{"format":"int","properties":{},"type":"integer"},"disabled":{"format":"int","properties":{},"type":"integer"},"create_at":{"description":"Created Time","format":"*gtime.Time","properties":{},"type":"string"},"update_at":{"description":"Updated Time","format":"*gtime.Time","properties":{},"type":"string"},"node_monitor_addr":{"format":"string","properties":{},"type":"string"},"pod_monitor_addr":{"format":"string","properties":{},"type":"string"},"node_monitor_config":{"description":"预留-节点监控配置json","format":"string","properties":{},"type":"string"},"pod_monitor_config":{"description":"预留-Pod监控配置json","format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.kubeconfigapi.SaveConfigRes":{"description":"Result data for certain request according API definition","properties":{},"type":"object"},"container-drift-service.api.v1.sysconfigapi.GetSysConfigReq":{"properties":{"config_key":{"description":"config key","format":"string","properties":{},"type":"string"},"config_group":{"description":"config group","format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.sysconfigapi.GetSysConfigRes":{"description":"Result data for certain request according API definition","properties":{"configs":{"format":"[]entity.SysConfig","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.SysConfig"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.internal.model.entity.SysConfig":{"properties":{"id":{"format":"int64","properties":{},"type":"integer"},"config_key":{"description":"'email etc...'","format":"string","properties":{},"type":"string"},"config_key_cn":{"format":"string","properties":{},"type":"string"},"config_value":{"format":"string","properties":{},"type":"string"},"config_value_cn":{"format":"string","properties":{},"type":"string"},"sort":{"format":"int","properties":{},"type":"integer"},"deleted":{"format":"int","properties":{},"type":"integer"},"created_at":{"format":"*gtime.Time","properties":{},"type":"string"},"updated_at":{"format":"*gtime.Time","properties":{},"type":"string"},"config_group":{"format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.sysconfigapi.SetSysConfigReq":{"properties":{"configs":{"format":"[]entity.SysConfig","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.SysConfig"},"properties":{},"type":"array"}},"type":"object"},"container-drift-service.api.v1.sysconfigapi.SetSysConfigRes":{"description":"Result data for certain request according API definition","properties":{},"type":"object"},"container-drift-service.api.v1.userapi.UserListReq":{"properties":{"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"},"container-drift-service.api.v1.userapi.UserListRes":{"description":"Result data for certain request according API definition","properties":{"rows":{"format":"[]*entity.SysUser","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.SysUser"},"properties":{},"type":"array"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"},"container-drift-service.internal.model.entity.SysUser":{"properties":{"id":{"format":"int64","properties":{},"type":"integer"},"name":{"format":"string","properties":{},"type":"string"},"nick_name":{"format":"string","properties":{},"type":"string"},"phone":{"format":"string","properties":{},"type":"string"},"email":{"format":"string","properties":{},"type":"string"},"type":{"description":"0 system 1 ldap","format":"int","properties":{},"type":"integer"},"deleted":{"format":"int","properties":{},"type":"integer"},"disabled":{"format":"int","properties":{},"type":"integer"},"created_at":{"format":"*gtime.Time","properties":{},"type":"string"},"updated_at":{"format":"*gtime.Time","properties":{},"type":"string"},"passwd":{"format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.userapi.UserLoginReq":{"properties":{"user_name":{"format":"string","properties":{},"type":"string"},"passwd":{"format":"string","properties":{},"type":"string"},"type":{"description":"0 username  1 ldap","format":"int","properties":{},"type":"integer"}},"required":["user_name","passwd","type"],"type":"object"},"container-drift-service.api.v1.userapi.UserLoginRes":{"description":"Result data for certain request according API definition","properties":{"token":{"format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.userapi.UserLogoutReq":{"properties":{},"type":"object"},"container-drift-service.api.v1.userapi.UserLogoutRes":{"description":"Result data for certain request according API definition","properties":{},"type":"object"},"container-drift-service.api.v1.userapi.UserProfileReq":{"properties":{},"type":"object"},"container-drift-service.api.v1.userapi.UserProfileRes":{"description":"Result data for certain request according API definition","properties":{"id":{"format":"int64","properties":{},"type":"integer"},"name":{"format":"string","properties":{},"type":"string"},"nick_name":{"format":"string","properties":{},"type":"string"},"phone":{"format":"string","properties":{},"type":"string"},"email":{"format":"string","properties":{},"type":"string"},"type":{"description":"0 system 1 ldap","format":"int","properties":{},"type":"integer"},"deleted":{"format":"int","properties":{},"type":"integer"},"disabled":{"format":"int","properties":{},"type":"integer"},"created_at":{"format":"*gtime.Time","properties":{},"type":"string"},"updated_at":{"format":"*gtime.Time","properties":{},"type":"string"},"passwd":{"format":"string","properties":{},"type":"string"}},"type":"object"},"container-drift-service.api.v1.userapi.SaveUserReq":{"properties":{"user_id":{"description":"needed if update user info","format":"int64","properties":{},"type":"integer"},"user_name":{"format":"string","properties":{},"type":"string"},"nick_name":{"format":"string","properties":{},"type":"string"},"passwd":{"format":"string","properties":{},"type":"string"},"passwd_2":{"format":"string","properties":{},"type":"string"},"phone":{"format":"string","properties":{},"type":"string"},"email":{"format":"string","properties":{},"type":"string"},"type":{"description":"0 username 1 ldap","format":"int","properties":{},"type":"integer"}},"type":"object"},"container-drift-service.api.v1.userapi.SaveUserRes":{"description":"Result data for certain request according API definition","properties":{"user_id":{"format":"int64","properties":{},"type":"integer"},"ok":{"format":"bool","properties":{},"type":"boolean"}},"type":"object"}}},"info":{"title":"Loreal Container Drift Service","description":"container drift","contact":{"name":"Pancloud LIANWEI","url":"https://pancloud.lianwei.com.cn/"},"version":""},"paths":{"/auditlog/list":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.auditapi.ListAuditLogReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"rows":{"format":"[]entity.SysAuditLog","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.SysAuditLog"},"properties":{},"type":"array"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"list audit log","tags":["AuditLog"]},"summary":"list audit log"},"/check":{"get":{"responses":{"200":{"content":{"text/html":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.HelloRes"}}},"description":""}},"summary":"HealthCheck","tags":["HealthCheck"]},"summary":"HealthCheck"},"/kube/killpod":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeapi.KillPodReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{},"type":"object"}},"type":"object"}}},"description":""}},"summary":"kill pod","tags":["Kube"]},"summary":"kill pod"},"/kube/listnamespace":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeapi.ListNamespaceReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"namespaces":{"format":"[]string","items":{"format":"string","properties":{},"type":"string"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"list kube namespace","tags":["Kube"]},"summary":"list kube namespace"},"/kube/listnodes":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeapi.ListNodesReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"nodes_info":{"format":"[]model.NodeInfluxInfo","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.NodeInfluxInfo"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"list kube node","tags":["Kube"]},"summary":"list kube node"},"/kube/listpods":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeapi.ListPodsReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"pods_info":{"format":"[]model.PodInfluxInfo","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.PodInfluxInfo"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"list kube pod","tags":["Kube"]},"summary":"list kube pod"},"/kube/nodemetrics":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeapi.QueryNodeMetricsReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"metrics":{"format":"[]model.NodeMetricData","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.NodeMetricData"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"node metrics","tags":["Kube"]},"summary":"node metrics"},"/kube/podmetrics":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeapi.QueryPodMetricsReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"metrics":{"format":"[]model.PodMetricData","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.PodMetricData"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"pod metrics","tags":["Kube"]},"summary":"pod metrics"},"/kube/transpod":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeapi.TransPodReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{},"type":"object"}},"type":"object"}}},"description":""}},"summary":"trans pod to new node","tags":["Kube"]},"summary":"trans pod to new node"},"/kube/v2/listavailablenodes":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v2.kubeapi.ListAvailableNodesReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"nodes":{"format":"[]string","items":{"format":"string","properties":{},"type":"string"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"List Available Nodes","tags":["Kube-v2"]},"summary":"List Available Nodes"},"/kube/v2/listnodes":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v2.kubeapi.ListNodesV2Req"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"nodes":{"format":"[]model.NodeItem","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.NodeItem"},"properties":{},"type":"array"},"start_suggestion":{"format":"string","properties":{},"type":"string"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"[new]list kube node V2","tags":["Kube-v2"]},"summary":"[new]list kube node V2"},"/kube/v2/listpods":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v2.kubeapi.ListPodsV2Req"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"pods":{"format":"[]model.PodItem","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.PodItem"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"[new]list kube pods V2","tags":["Kube-v2"]},"summary":"[new]list kube pods V2"},"/kubeconfig/delete":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeconfigapi.DeleteConfigReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{},"type":"object"}},"type":"object"}}},"description":""}},"summary":"delete kubeconfig","tags":["KubeConfig"]},"summary":"delete kubeconfig"},"/kubeconfig/list":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeconfigapi.ListConfigReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"rows":{"format":"[]entity.BizKubeConfig","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.BizKubeConfig"},"properties":{},"type":"array"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"list kubeconfig","tags":["KubeConfig"]},"summary":"list kubeconfig"},"/kubeconfig/save":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.kubeconfigapi.SaveConfigReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{},"type":"object"}},"type":"object"}}},"description":""}},"summary":"save kubeconfig","tags":["KubeConfig"]},"summary":"save kubeconfig"},"/sysconfig/get":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.sysconfigapi.GetSysConfigReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"configs":{"format":"[]entity.SysConfig","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.SysConfig"},"properties":{},"type":"array"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"get sysconfig","tags":["SysConfig"]},"summary":"get sysconfig"},"/sysconfig/save":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.sysconfigapi.SetSysConfigReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{},"type":"object"}},"type":"object"}}},"description":""}},"summary":"save sysconfig","tags":["SysConfig"]},"summary":"save sysconfig"},"/user/list":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.userapi.UserListReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"rows":{"format":"[]*entity.SysUser","items":{"$ref":"#/components/schemas/container-drift-service.internal.model.entity.SysUser"},"properties":{},"type":"array"},"pagination":{"$ref":"#/components/schemas/container-drift-service.utils.pagi.Pagination"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"get user list","tags":["User"]},"summary":"get user list"},"/user/login":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.userapi.UserLoginReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"token":{"format":"string","properties":{},"type":"string"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"user login","tags":["User"]},"summary":"user login"},"/user/logout":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{},"type":"object"}},"type":"object"}}},"description":""}},"summary":"user logout by token","tags":["User"]},"summary":"user logout by token"},"/user/profile":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"id":{"format":"int64","properties":{},"type":"integer"},"name":{"format":"string","properties":{},"type":"string"},"nick_name":{"format":"string","properties":{},"type":"string"},"phone":{"format":"string","properties":{},"type":"string"},"email":{"format":"string","properties":{},"type":"string"},"type":{"description":"0 system 1 ldap","format":"int","properties":{},"type":"integer"},"deleted":{"format":"int","properties":{},"type":"integer"},"disabled":{"format":"int","properties":{},"type":"integer"},"created_at":{"format":"*gtime.Time","properties":{},"type":"string"},"updated_at":{"format":"*gtime.Time","properties":{},"type":"string"},"passwd":{"format":"string","properties":{},"type":"string"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"get user profile by Header Token","tags":["User"]},"summary":"get user profile by Header Token"},"/user/save":{"post":{"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/container-drift-service.api.v1.userapi.SaveUserReq"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"code":{"description":"Error code","format":"int","properties":{},"type":"integer"},"message":{"description":"Error message","format":"string","properties":{},"type":"string"},"data":{"description":"Result data for certain request according API definition","properties":{"user_id":{"format":"int64","properties":{},"type":"integer"},"ok":{"format":"bool","properties":{},"type":"boolean"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"create user","tags":["User"]},"summary":"create user"}}}
